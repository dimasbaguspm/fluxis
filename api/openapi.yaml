components:
  schemas:
    AuthLoginInputModel:
      additionalProperties: false
      properties:
        password:
          description: Your password
          minLength: 1
          type: string
        username:
          description: Your username
          minLength: 1
          type: string
      required:
        - username
        - password
      type: object
    AuthLoginOutputModel:
      additionalProperties: false
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        username:
          type: string
      required:
        - accessToken
        - refreshToken
        - username
      type: object
    AuthRefreshInputModel:
      additionalProperties: false
      properties:
        refreshToken:
          type: string
      required:
        - refreshToken
      type: object
    AuthRefreshOutputModel:
      additionalProperties: false
      properties:
        accessToken:
          type: string
      required:
        - accessToken
      type: object
    ErrorDetail:
      additionalProperties: false
      properties:
        location:
          description: Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'
          type: string
        message:
          description: Error message text
          type: string
        value:
          description: The value at the given location
      type: object
    ErrorModel:
      additionalProperties: false
      properties:
        detail:
          description: A human-readable explanation specific to this occurrence of the problem.
          examples:
            - Property foo is required but is missing.
          type: string
        errors:
          description: Optional list of individual error details
          items:
            $ref: "#/components/schemas/ErrorDetail"
          type:
            - array
            - "null"
        instance:
          description: A URI reference that identifies the specific occurrence of the problem.
          examples:
            - https://example.com/error-log/abc123
          format: uri
          type: string
        status:
          description: HTTP status code
          examples:
            - 400
          format: int64
          type: integer
        title:
          description: A short, human-readable summary of the problem type. This value should not change between occurrences of the error.
          examples:
            - Bad Request
          type: string
        type:
          default: about:blank
          description: A URI reference to human-readable documentation for the error.
          examples:
            - https://example.com/errors/example
          format: uri
          type: string
      type: object
    LogModel:
      additionalProperties: false
      properties:
        createdAt:
          format: date-time
          type: string
        entry:
          type: string
        id:
          format: uuid
          type: string
        projectId:
          format: uuid
          type:
            - string
            - "null"
        statusId:
          format: uuid
          type: string
        taskId:
          format: uuid
          type: string
      required:
        - id
        - projectId
        - entry
        - createdAt
      type: object
    LogPaginatedModel:
      additionalProperties: false
      properties:
        items:
          items:
            $ref: "#/components/schemas/LogModel"
          type:
            - array
            - "null"
        pageNumber:
          format: int64
          type: integer
        pageSize:
          format: int64
          type: integer
        totalCount:
          format: int64
          type: integer
        totalPages:
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalPages
        - totalCount
      type: object
    ProjectCreateModel:
      additionalProperties: false
      properties:
        description:
          minLength: 1
          type: string
        name:
          minLength: 1
          type: string
        status:
          enum:
            - active
            - paused
            - archived
          type: string
      required:
        - name
        - description
        - status
      type: object
    ProjectModel:
      additionalProperties: false
      properties:
        createdAt:
          enum:
            - active
            - paused
            - archived
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        description:
          type: string
        id:
          format: uuid
          type: string
        name:
          type: string
        status:
          enum:
            - active
            - paused
            - archived
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - name
        - description
        - status
        - createdAt
        - updatedAt
      type: object
    ProjectPaginatedModel:
      additionalProperties: false
      properties:
        items:
          items:
            $ref: "#/components/schemas/ProjectModel"
          type:
            - array
            - "null"
        pageNumber:
          format: int64
          type: integer
        pageSize:
          format: int64
          type: integer
        totalCount:
          format: int64
          type: integer
        totalPages:
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalPages
        - totalCount
      type: object
    ProjectUpdateModel:
      additionalProperties: false
      properties:
        description:
          type: string
        name:
          minLength: 1
          type: string
        status:
          enum:
            - active
            - paused
            - archived
          type: string
      type: object
    StatusCreateModel:
      additionalProperties: false
      properties:
        name:
          minLength: 1
          type: string
        projectId:
          format: uuid
          type: string
      required:
        - projectId
        - name
      type: object
    StatusModel:
      additionalProperties: false
      properties:
        createdAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        id:
          format: uuid
          type: string
        isDefault:
          type: boolean
        name:
          type: string
        position:
          format: int64
          type: integer
        projectId:
          format: uuid
          type: string
        slug:
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - projectId
        - name
        - slug
        - position
        - isDefault
        - createdAt
        - updatedAt
      type: object
    StatusReorderModel:
      additionalProperties: false
      properties:
        ids:
          format: uuid
          items:
            type: string
          type:
            - array
            - "null"
        projectId:
          format: uuid
          type: string
      required:
        - projectId
        - ids
      type: object
    StatusUpdateModel:
      additionalProperties: false
      properties:
        name:
          minLength: 1
          type: string
      required:
        - name
      type: object
    TaskCreateModel:
      additionalProperties: false
      properties:
        details:
          type: string
        dueDate:
          format: date-time
          type: string
        priority:
          default: 1
          format: int64
          minimum: 1
          type: integer
        projectId:
          format: uuid
          minLength: 1
          type: string
        statusId:
          format: uuid
          type: string
        title:
          minLength: 1
          pattern: ^.*\S.*$
          type: string
      required:
        - projectId
        - statusId
        - title
        - details
        - priority
      type: object
    TaskModel:
      additionalProperties: false
      properties:
        createdAt:
          format: date-time
          type: string
        details:
          type: string
        dueDate:
          format: date-time
          type: string
        id:
          format: uuid
          type: string
        priority:
          format: int64
          type: integer
        projectId:
          format: uuid
          type: string
        statusId:
          format: uuid
          type: string
        title:
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - projectId
        - statusId
        - title
        - details
        - priority
        - createdAt
        - updatedAt
      type: object
    TaskPaginatedModel:
      additionalProperties: false
      properties:
        items:
          items:
            $ref: "#/components/schemas/TaskModel"
          type:
            - array
            - "null"
        pageNumber:
          format: int64
          type: integer
        pageSize:
          format: int64
          type: integer
        totalCount:
          format: int64
          type: integer
        totalPages:
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalPages
        - totalCount
      type: object
    TaskUpdateModel:
      additionalProperties: false
      properties:
        details:
          type: string
        dueDate:
          format: date-time
          type: string
        priority:
          format: int64
          minimum: 1
          type: integer
        statusId:
          type: string
        title:
          minLength: 1
          pattern: ^.*\S.*$
          type: string
      type: object
  securitySchemes:
    bearer:
      bearerFormat: JWT
      scheme: bearer
      type: http
info:
  title: Fluxis
  version: 1.0.0
openapi: 3.1.0
paths:
  /auth/login:
    post:
      description: Authenticate with username and password to receive access and refresh tokens
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthLoginInputModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthLoginOutputModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Login
      tags:
        - Authentication
  /auth/refresh:
    post:
      description: Exchange a valid refresh token for a new access token
      operationId: refresh
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthRefreshInputModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthRefreshOutputModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Refresh Token
      tags:
        - Authentication
  /projects:
    get:
      operationId: project-get-paginated
      parameters:
        - explode: false
          in: query
          name: id
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: query
          schema:
            type: string
        - explode: false
          in: query
          name: status
          schema:
            items:
              enum:
                - active
                - paused
                - archived
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            format: int64
            type: integer
        - explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            format: int64
            type: integer
        - explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            enum:
              - createdAt
              - updatedAt
              - status
            type: string
        - explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            enum:
              - asc
              - desc
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProjectPaginatedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get Projects
      tags:
        - Project
    post:
      operationId: project-create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProjectCreateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProjectModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create single project
      tags:
        - Project
  /projects/{projectId}:
    delete:
      operationId: project-delete
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            format: uuid
            type: string
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete single project
      tags:
        - Project
    get:
      operationId: project-get-detail
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            format: uuid
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProjectModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get Project detail
      tags:
        - Project
    patch:
      operationId: project-update
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            format: uuid
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProjectUpdateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProjectModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update single project
      tags:
        - Project
  /projects/{projectId}/logs:
    get:
      operationId: project-get-logs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            format: uuid
            type: string
        - explode: false
          in: query
          name: taskId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: statusId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: query
          schema:
            type: string
        - explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            format: int64
            type: integer
        - explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LogPaginatedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get Project logs
      tags:
        - Project
  /statuses:
    get:
      operationId: status-get-by-project
      parameters:
        - explode: false
          in: query
          name: projectId
          required: true
          schema:
            format: uuid
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/StatusModel"
                type:
                  - array
                  - "null"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get statuses for a project
      tags:
        - Status
    post:
      operationId: status-create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusCreateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatusModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create a status for a project
      tags:
        - Status
  /statuses/reorder:
    post:
      operationId: status-reorder
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusReorderModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/StatusModel"
                type:
                  - array
                  - "null"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Reorder statuses for a project
      tags:
        - Status
  /statuses/{statusId}:
    delete:
      operationId: status-delete
      parameters:
        - in: path
          name: statusId
          required: true
          schema:
            format: uuid
            type: string
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete a status
      tags:
        - Status
    get:
      operationId: status-get
      parameters:
        - in: path
          name: statusId
          required: true
          schema:
            format: uuid
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatusModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get a status by id
      tags:
        - Status
    patch:
      operationId: status-update
      parameters:
        - in: path
          name: statusId
          required: true
          schema:
            format: uuid
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusUpdateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatusModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update a status
      tags:
        - Status
  /statuses/{statusId}/logs:
    get:
      operationId: status-get-logs
      parameters:
        - in: path
          name: statusId
          required: true
          schema:
            format: uuid
            type: string
        - explode: false
          in: query
          name: taskId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: statusId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: query
          schema:
            type: string
        - explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            format: int64
            type: integer
        - explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LogPaginatedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get logs for a status
      tags:
        - Status
  /tasks:
    get:
      operationId: task-get-paginated
      parameters:
        - explode: false
          in: query
          name: id
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: projectId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: statusId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: query
          schema:
            type: string
        - explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            format: int64
            type: integer
        - explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            format: int64
            type: integer
        - explode: false
          in: query
          name: sortBy
          schema:
            default: dueDate
            enum:
              - dueDate
              - createdAt
              - updatedAt
              - priority
            type: string
        - explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            enum:
              - asc
              - desc
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TaskPaginatedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get tasks
      tags:
        - Task
    post:
      operationId: task-create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TaskCreateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TaskModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create a task
      tags:
        - Task
  /tasks/{taskId}:
    delete:
      operationId: task-delete
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            format: uuid
            type: string
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete a task
      tags:
        - Task
    get:
      operationId: task-get
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TaskModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get task detail
      tags:
        - Task
    patch:
      operationId: task-update
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            format: uuid
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TaskUpdateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TaskModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update a task
      tags:
        - Task
  /tasks/{taskId}/logs:
    get:
      operationId: task-get-logs
      parameters:
        - in: path
          name: taskId
          required: true
          schema:
            format: uuid
            type: string
        - explode: false
          in: query
          name: taskId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: statusId
          schema:
            format: uuid
            items:
              type: string
            type:
              - array
              - "null"
        - explode: false
          in: query
          name: query
          schema:
            type: string
        - explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            format: int64
            type: integer
        - explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LogPaginatedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get logs for a task
      tags:
        - Task
servers:
  - description: Development server
    url: http://localhost:8081
